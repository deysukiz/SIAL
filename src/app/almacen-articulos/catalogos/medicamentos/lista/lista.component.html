<listar #ctrl URL="medicamentos" titulo="Medicamentos / Catalogo"></listar>
<articulos-catalogo-menu></articulos-catalogo-menu>
<div style="height:50px;"></div>
<div class="contenedor columns " style="height:100%; ">
    <div class="column is-one-quarter is-hidden-mobile">
        <panel-control-menu-aside></panel-control-menu-aside>
    </div>
    <div class="column" style="padding: 0em 2em 0em 0em">
        <div style="background: #FFF; border-radius: 1em; ">
                    
            <!-- Opciones y busqueda -->
            <tabla-opciones [ctrl]="ctrl" [nombre]="'Medicamentos'"></tabla-opciones>

            <table class="table" *ngIf="!ctrl.cargando">
                <thead>
                    <tr>
                        <th><abbr title="Usuario ID">ID</abbr></th>
                        <th>Clave</th>
                        <th>Cantidad por envase</th>
                        <th>Concentracion</th>
                        <th>Contenido</th>
                        <th>Dosis</th>
                        <th>Es controlaado</th>
                        <th>Es surfactante</th>
                        <th style="text-align:center;">Opciones</th>
                    </tr>
                </thead>
                <tbody *ngIf="!ctrl.busquedaActivada">
                    <tr *ngFor="let item of ctrl.dato; let i=index">
                        <th style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.id }}</a></th>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.insumo_medico_clave }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.cantidad_x_envase }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.concentracion }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.contenido }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.dosis }} </a></td>                            
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_controlado == 1 ? 'Si': 'No' }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_surfactante == 1 ? 'Si': 'No' }} </a></td>                        
                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"
                                class="is-danger" (click)="ctrl.eliminar(item, i, 'insumo_medico_clave')"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>

                    </tr>
                    <tr *ngIf="ctrl.dato.length == 0">
                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista está vacía.</td>
                    </tr>
                </tbody>
                <tbody *ngIf="ctrl.busquedaActivada">
                    <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">
                        <th style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.id }}</a></th>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.insumo_medico_clave }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.cantidad_x_envase }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.concentracion }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.contenido }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.dosis }} </a></td>                            
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_controlado == 1 ? 'Si': 'No' }} </a></td>
                        <td style="vertical-align: middle;"><a routerLink="/catalogos/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_surfactante == 1 ? 'Si': 'No' }} </a></td>                        
                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"
                                class="is-danger" (click)="ctrl.eliminar(item, i, 'insumo_medico_clave')"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>

                    </tr>

                    <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">
                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>
                    </tr>
                </tbody>
            </table>
            <!-- Paginación para la lista  -->
            <paginacion [ctrl]="ctrl"></paginacion>
        </div>

    </div>
</div>